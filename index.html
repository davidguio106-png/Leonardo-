<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mi Universo</title>
<style>
body{
margin:0;
overflow:hidden;
background:black;
font-family:Arial;
}
#ui{
position:fixed;
bottom:20px;
left:50%;
transform:translateX(-50%);
z-index:10;
}
button{
padding:12px 25px;
border:none;
border-radius:30px;
background:#0d47a1;
color:white;
font-size:16px;
}
canvas{display:block;}
</style>
</head>
<body>

<div id="ui">
<input type="file" id="musicInput" accept="audio/*" hidden>
<button onclick="document.getElementById('musicInput').click()">Elegir MÃºsica ðŸŽµ</button>
<audio id="audio" controls style="display:none"></audio>
</div>

<canvas id="c"></canvas>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth;
canvas.height = innerHeight;

let zoom = 1;
let offsetX = 0;
let offsetY = 0;

document.addEventListener("wheel", e=>{
zoom += e.deltaY * -0.0005;
zoom = Math.min(Math.max(.2, zoom), 8);
});

let dragging=false;
let lastX,lastY;

canvas.addEventListener("mousedown",e=>{
dragging=true;
lastX=e.clientX;
lastY=e.clientY;
});
canvas.addEventListener("mouseup",()=>dragging=false);
canvas.addEventListener("mousemove",e=>{
if(dragging){
offsetX += e.clientX-lastX;
offsetY += e.clientY-lastY;
lastX=e.clientX;
lastY=e.clientY;
}
});

/* PROFUNDIDAD REAL */
function randomRange(n){return Math.random()*n-n/2;}

const stars=[];
for(let i=0;i<2000;i++){
stars.push({
x:randomRange(8000),
y:randomRange(8000),
z:Math.random()*5+1
});
}

const frases=[
"Mi amor â¤ï¸","Mi reina ðŸ‘‘","Mi perla ðŸ¤","Mi bb ðŸ§¸",
"Mi negra hermosa ðŸ’‹","Mi goldix ðŸ¥º",
"PerdÃ³name mi amor ðŸ¥º",
"Eres tÃº, eres lo mejor ðŸ’˜",
"No quiero perderte ðŸ˜”",
"Mereces el universo entero âœ¨"
];

const textos=[];
for(let i=0;i<3000;i++){
textos.push({
x:randomRange(8000),
y:randomRange(8000),
z:Math.random()*5+1,
t:frases[Math.floor(Math.random()*frases.length)]
});
}

/* PLANETA EN PROFUNDIDAD */
const planeta={
x:1200,
y:-600,
z:2,
radio:200
};

function draw(){
ctx.clearRect(0,0,canvas.width,canvas.height);
ctx.save();
ctx.translate(canvas.width/2+offsetX,canvas.height/2+offsetY);
ctx.scale(zoom,zoom);

/* estrellas con profundidad */
stars.forEach(s=>{
let scaleDepth=1/s.z;
ctx.fillStyle="white";
ctx.fillRect(s.x*scaleDepth,s.y*scaleDepth,1*scaleDepth,1*scaleDepth);
});

/* textos */
ctx.fillStyle="white";
ctx.font="14px Arial";
textos.forEach(t=>{
let scaleDepth=1/t.z;
ctx.fillText(t.t,t.x*scaleDepth,t.y*scaleDepth);
});

/* planeta */
let scaleDepth=1/planeta.z;
let px=planeta.x*scaleDepth;
let py=planeta.y*scaleDepth;
let r=planeta.radio*scaleDepth;

let grad=ctx.createRadialGradient(px-r*.3,py-r*.3,r*.2,px,py,r);
grad.addColorStop(0,"#1a237e");
grad.addColorStop(1,"#0d47a1");

ctx.fillStyle=grad;
ctx.beginPath();
ctx.arc(px,py,r,0,Math.PI*2);
ctx.fill();

/* anillo 3D */
ctx.strokeStyle="rgba(255,255,255,0.6)";
ctx.lineWidth=15*scaleDepth;
ctx.beginPath();
ctx.ellipse(px,py,r*1.6,r*.5,0.5,0,Math.PI*2);
ctx.stroke();

ctx.restore();
requestAnimationFrame(draw);
}

draw();

/* mÃºsica */
document.getElementById("musicInput").addEventListener("change",function(){
const file=this.files[0];
if(file){
const audio=document.getElementById("audio");
audio.src=URL.createObjectURL(file);
audio.play();
}
});
</script>

</body>
</html>
