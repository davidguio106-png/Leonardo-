<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mi Galaxia ðŸ’™</title>
<style>
body{
margin:0;
overflow:hidden;
background:black;
touch-action:none;
font-family:Arial;
}

#ui{
position:fixed;
bottom:20px;
left:50%;
transform:translateX(-50%);
z-index:10;
}

button{
padding:12px 25px;
border:none;
border-radius:30px;
background:#2196f3;
color:white;
font-size:16px;
}

canvas{
display:block;
}
</style>
</head>
<body>

<div id="ui">
<input type="file" id="musicInput" accept="audio/*" hidden>
<button onclick="document.getElementById('musicInput').click()">Elegir MÃºsica ðŸŽµ</button>
<audio id="audio" controls style="display:none"></audio>
</div>

<canvas id="space"></canvas>

<script>
const canvas = document.getElementById("space");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let scale = 1;
let offsetX = 0;
let offsetY = 0;

let isDragging = false;
let lastX = 0;
let lastY = 0;

/* DRAG */
canvas.addEventListener("mousedown", e=>{
isDragging=true;
lastX=e.clientX;
lastY=e.clientY;
});
canvas.addEventListener("mouseup", ()=>isDragging=false);
canvas.addEventListener("mousemove", e=>{
if(isDragging){
offsetX += e.clientX-lastX;
offsetY += e.clientY-lastY;
lastX=e.clientX;
lastY=e.clientY;
}
});

/* TOUCH */
canvas.addEventListener("touchstart", e=>{
if(e.touches.length===1){
lastX=e.touches[0].clientX;
lastY=e.touches[0].clientY;
}
});

canvas.addEventListener("touchmove", e=>{
if(e.touches.length===1){
offsetX += e.touches[0].clientX-lastX;
offsetY += e.touches[0].clientY-lastY;
lastX=e.touches[0].clientX;
lastY=e.touches[0].clientY;
}
if(e.touches.length===2){
let dx=e.touches[0].clientX-e.touches[1].clientX;
let dy=e.touches[0].clientY-e.touches[1].clientY;
let distance=Math.sqrt(dx*dx+dy*dy);
if(!window.lastDistance) window.lastDistance=distance;
scale += (distance-window.lastDistance)*0.002;
scale=Math.min(Math.max(.5,scale),5);
window.lastDistance=distance;
}
});

/* ESTRELLAS */
const stars=[];
for(let i=0;i<2500;i++){
stars.push({
x:Math.random()*4000-2000,
y:Math.random()*4000-2000,
size:Math.random()*1.5
});
}

/* PALABRAS */
const palabras=[
"Mi amor â¤ï¸","Mi reina ðŸ‘‘","Mi perla ðŸ¤","Mi bb ðŸ§¸",
"Mi negra hermosa ðŸ’‹","Mi goldix ðŸ¥º",
"Mi princesa ðŸ‘‘","Mi luna ðŸŒ™","Mi sol â˜€ï¸",
"Mi estrella âœ¨","Mi galaxia favorita ðŸŒŒ",
"Mi todo ðŸ’–","Mi vida ðŸ’•","Mi universo ðŸŒ ",
"PerdÃ³name mi amor ðŸ¥º","Eres tÃº, eres lo mejor ðŸ’˜",
"No quiero perderte ðŸ˜”","Mereces el universo entero ðŸŒŸ"
];

const textos=[];
for(let i=0;i<1500;i++){
textos.push({
x:Math.random()*4000-2000,
y:Math.random()*4000-2000,
texto:palabras[Math.floor(Math.random()*palabras.length)]
});
}

/* PLANETA */
const planeta = {
x:0,
y:0,
radio:120
};

function drawPlaneta(){
/* planeta azul oscuro */
let grad = ctx.createRadialGradient(
planeta.x-40,planeta.y-40,20,
planeta.x,planeta.y,planeta.radio
);
grad.addColorStop(0,"#1e3c72");
grad.addColorStop(1,"#0f2027");

ctx.fillStyle=grad;
ctx.beginPath();
ctx.arc(planeta.x,planeta.y,planeta.radio,0,Math.PI*2);
ctx.fill();

/* anillo */
ctx.strokeStyle="rgba(255,255,255,0.6)";
ctx.lineWidth=15;
ctx.beginPath();
ctx.ellipse(planeta.x,planeta.y,170,60,0,0,Math.PI*2);
ctx.stroke();
}

function draw(){
ctx.clearRect(0,0,canvas.width,canvas.height);
ctx.save();
ctx.translate(canvas.width/2+offsetX,canvas.height/2+offsetY);
ctx.scale(scale,scale);

/* estrellas */
ctx.fillStyle="white";
stars.forEach(s=>{
ctx.fillRect(s.x,s.y,s.size,s.size);
});

/* palabras */
ctx.fillStyle="white";
ctx.font="14px Arial";
textos.forEach(t=>{
ctx.fillText(t.texto,t.x,t.y);
});

/* planeta */
drawPlaneta();

ctx.restore();
requestAnimationFrame(draw);
}

draw();

/* MUSICA */
document.getElementById("musicInput").addEventListener("change",function(){
const file=this.files[0];
if(file){
const audio=document.getElementById("audio");
audio.src=URL.createObjectURL(file);
audio.play();
}
});
</script>

</body>
</html>
